# share and chat  

## Android
1. changed android buildtools version and supported library version to mitigate a bug after adding react-native-navigation

## iOS

## RN
For react native, we are not going to use create-react-native-app, since we are going to use some native libraries. Furthermore, react-native init will give us more freedom over app development.
### RN checklist
1. [ReactJS docs](https://reactjs.org/tutorial/tutorial.html)
2. [React Native docs](https://facebook.github.io/react-native/)(we are using version 0.49)
3. [React Native debug](https://facebook.github.io/react-native/)
    * change default chrome devTool debugger to react-native-debugger
    * element inspection
    * redux state inspection
4. [Redux, a way of managing application state](https://redux.js.org/docs/basics/)
5. React styling is a bit different from other frontend framework, maybe one will need some time to adapt to it.
6. [react-native-config](https://github.com/luggit/react-native-config) *12-factor-app* configuration.
7. [react-native-debugger](https://github.com/jhen0409/react-native-debugger) awesome debugger tools. use ```yarn run debug``` to start the debugging process.
8. [redux-persist](https://github.com/rt2zz/redux-persist), a redux state persisting tool.
9. [redux-logger](https://github.com/evgenyrodionov/redux-logger), as its name suggests.
10. [react-native-navigation](https://wix.github.io/react-native-navigation/#/styling-the-navigator), the navigation tools we are using.
    * For the versions we are using, (RN 0.50.3, RNN 1.1.29), there is a bug of listview flickering at the bottom on android device. This is explained in [this issue](https://github.com/wix/react-native-navigation/issues/2138). As the state of this writing, only custom fix is available (which is to merge the pull request manually in node_modules/react-native-navigation)...

## Firebase
### Realtime database
1. consideration: chats could be optional..
```javascript
{
    chats: {
        orderId: {
            title: '',
            timestamp: ''
        }
    },
    messages: {
        orderId: [
            {   
                timestamp: '1511818810856',
                sender: 'cedric',
                content: 'where are you my driver?'
            }
        ]
    }
}
```
2. consideration: authentication methods options:
    1. custom code authentication
        * *server* implements [firebase-admin custom code procedure](https://firebase.google.com/docs/auth/admin/create-custom-tokens).
        * application call this api to get a jwt token generated by the server using firebase provided secret.
        * user authenticates with firebase with this jwt token, and a user will be effectively created in the firebase's user database.
        * user could relogin by repeating the above process.
        * server doesn't need to care about access key refreshing, it's managed by app sdk.
    2. anonymous authentication
        * anonymous might not be viable in our case, since it will create a new anonymous user each time when a login call is issued. 
        * user is not able to resign in with previous created firebase anonymous user account resulting possibly thousands of dangling and not managed user account.
        * during the development I could still use this method.
## Map
[Mapbox: Probably we are going to use this library for map development](https://github.com/mapbox/react-native-mapbox-gl)
